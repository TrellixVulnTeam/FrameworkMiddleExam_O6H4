{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\middle-exam\\\\src\\\\App.js\";\nimport './App.css';\nimport Header from './containers/Header';\nimport Footer from './containers/Footer';\nimport Home from './components/Home';\nimport Product from './components/Product';\nimport Cart from './components/Cart';\nimport About from './components/About';\nimport { BrowserRouter, Switch, Route, Redirect, withRouter } from \"react-router-dom\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AuthButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            component: Home\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/product\",\n            component: Product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cart\",\n            component: Cart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            path: \"/about\",\n            component: About\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst fakeAuth = {\n  isAuthenticated: false,\n\n  authenticate(cb) {\n    fakeAuth.isAuthenticated = true;\n    setTimeout(cb, 100);\n  },\n\n  signout(cb) {\n    fakeAuth.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n\n};\nconst AuthButton = withRouter(_c = ({\n  history\n}) => fakeAuth.isAuthenticated ? /*#__PURE__*/_jsxDEV(\"p\", {\n  id: \"logout\",\n  children: /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => {\n      fakeAuth.signout(() => history.push(\"/home\"));\n    },\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Sign out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 11\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 46,\n  columnNumber: 7\n}, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n  id: \"warning-log\",\n  children: \"You are not log in!\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 55,\n  columnNumber: 11\n}, this));\n_c2 = AuthButton;\n\nfunction PrivateRoute({\n  component: Component,\n  ...rest\n}) {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: props => fakeAuth.isAuthenticated ? /*#__PURE__*/_jsxDEV(Component, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: \"/login\",\n        state: {\n          from: props.location\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 23\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 7\n  }, this);\n}\n\n_c3 = PrivateRoute;\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirectToReferrer: false\n    };\n\n    this.login = () => {\n      fakeAuth.authenticate(() => {\n        this.setState({\n          redirectToReferrer: true\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      from\n    } = this.props.location.state || {\n      from: {\n        pathname: \"/home\"\n      }\n    };\n    const {\n      redirectToReferrer\n    } = this.state;\n\n    if (redirectToReferrer) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: from\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 18\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        class: \"masthead\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"masthead-subheading\",\n            children: \"You must log in to view the page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.login,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AuthButton$withRouter\");\n$RefreshReg$(_c2, \"AuthButton\");\n$RefreshReg$(_c3, \"PrivateRoute\");","map":{"version":3,"sources":["C:/react/middle-exam/src/App.js"],"names":["Header","Footer","Home","Product","Cart","About","BrowserRouter","Switch","Route","Redirect","withRouter","React","Component","App","render","fakeAuth","isAuthenticated","authenticate","cb","setTimeout","signout","AuthButton","history","push","PrivateRoute","component","rest","props","pathname","state","from","location","Login","redirectToReferrer","login","setState"],"mappings":"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","sourcesContent":["import './App.css';\nimport Header from './containers/Header';\nimport Footer from './containers/Footer';\nimport Home from './components/Home';\nimport Product from './components/Product';\nimport Cart from './components/Cart';\nimport About from './components/About';\nimport { BrowserRouter, Switch, Route, Redirect, withRouter} from \"react-router-dom\";\nimport React, { Component } from 'react';\n\nclass App extends Component{\n  render(){\n    return (\n      <BrowserRouter>\n        <div>\n          <Header/>\n          <AuthButton />\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/product\" component={Product}  >\n            </Route>\n            <Route path=\"/cart\" component={Cart} />\n            <PrivateRoute path=\"/about\" component={About} />\n          </Switch>\n          <Footer/>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst fakeAuth = {\n  isAuthenticated: false,\n  authenticate(cb) {\n      fakeAuth.isAuthenticated = true;\n      setTimeout(cb, 100);\n  },\n  signout(cb) {\n      fakeAuth.isAuthenticated = false;\n      setTimeout(cb, 100);\n  }\n}\n\nconst AuthButton = withRouter(({ history }) =>\n  fakeAuth.isAuthenticated ? (\n      <p id=\"logout\">\n          <button\n              onClick={() => {\n                  fakeAuth.signout(() => history.push(\"/home\"));\n              }}>\n              <p>Sign out</p>\n          </button>\n      </p>\n  ) : (\n          <p id=\"warning-log\" >\n              You are not log in!\n          </p>\n      )\n);\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n      <Route\n          {...rest}\n          render={props =>\n              fakeAuth.isAuthenticated ? (\n                  <Component {...props} />\n              ) : (\n                      <Redirect\n                          to={{\n                              pathname: \"/login\",\n                              state: { from: props.location }\n                          }}\n                      />\n                  )\n          }\n      />\n  );\n}\n\nclass Login extends Component {\n  state = { redirectToReferrer: false };\n\n  login = () => {\n      fakeAuth.authenticate(() => {\n          this.setState({ redirectToReferrer: true });\n      });\n  };\n\n  render() {\n      const { from } = this.props.location.state || { from: { pathname: \"/home\" } };\n      const { redirectToReferrer } = this.state;\n\n      if (redirectToReferrer) {\n          return <Redirect to={from} />\n      }\n\n      return (\n          <div className=\"Login\">\n            <header class=\"masthead\">\n              <div class=\"container\">\n              <div class=\"masthead-subheading\">You must log in to view the page</div>\n              <button onClick={this.login}>Login</button>\n          </div>\n          </header>\n      </div>\n      );\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}