{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\middle-exam\\\\src\\\\components\\\\Product.js\";\nimport React, { Component } from 'react';\nimport util from '../util';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Product extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleIncrement = () => {\n      this.setState({\n        qty: this.state.insertProduct.total_qty += 1\n      });\n\n      if (this.state.insertProduct.total_qty >= this.props.stock) {\n        this.setState({\n          qty: this.state.insertProduct.total_qty = this.props.stock\n        });\n      }\n\n      this.handleTotal();\n    };\n\n    this.handleTotal = () => {\n      this.setState({\n        totalPrice: this.state.insertProduct.total_price = this.props.price * this.state.insertProduct.total_qty,\n        id: this.state.insertProduct[\"id\"] = new Date().getTime()\n      });\n    };\n\n    this.handleSave = product => {\n      const insert = {\n        'userID': product.userID,\n        'productID': product.id,\n        'nama': product.nama,\n        'price': product.price,\n        'total_qty': 1,\n        'total_price': product.price\n      };\n      fetch(\"http://localhost:3002/cart\", {\n        method: \"post\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(insert)\n      }).then(response => {\n        if (response.ok) {\n          alert(\"Product Was Added Successfully To Cart\");\n          this.setState({\n            total_qty: this.state.insertProduct[\"total_qty\"] = 0\n          });\n          this.handleTotal();\n          return response.json();\n        } else {\n          alert(response.statusText);\n        }\n      });\n    };\n\n    this.state = {\n      products: [],\n      insertProduct: {\n        userID: props.id,\n        id: 1,\n        nama: this.props.nama,\n        price: this.props.price,\n        total_qty: 0,\n        total_price: 0\n      }\n    };\n  }\n\n  componentWillMount() {\n    fetch(\"http://localhost:3001/products\").then(res => res.json()).then(data => this.setState({\n      products: data\n    }));\n  }\n\n  render() {\n    const productItems = this.state.products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-image-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"single-products\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productinfo text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: `#${product.id}`,\n              onClick: this.state.handleAddToCart,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: `/products/${product.img}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: util.formatCurrency(product.price)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\" \", product.nama, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                type: \"submit\",\n                onClick: () => this.handleSave(product),\n                children: \"Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"features_items\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"title text-center\",\n                  children: \"Features Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 37\n                }, this), productItems]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Product;","map":{"version":3,"sources":["C:/react/middle-exam/src/components/Product.js"],"names":["React","Component","util","Product","constructor","props","handleIncrement","setState","qty","state","insertProduct","total_qty","stock","handleTotal","totalPrice","total_price","price","id","Date","getTime","handleSave","product","insert","userID","nama","fetch","method","headers","body","JSON","stringify","then","response","ok","alert","json","statusText","products","componentWillMount","res","data","render","productItems","map","handleAddToCart","img","formatCurrency"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport util from '../util';\r\n\r\nclass Product extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            products: [], \r\n            insertProduct: {\r\n                userID: props.id,\r\n                id: 1,\r\n                nama: this.props.nama,\r\n                price: this.props.price,\r\n                total_qty: 0,\r\n                total_price: 0\r\n            }\r\n        };\r\n      }\r\n      componentWillMount(){\r\n        fetch(\"http://localhost:3001/products\").then(res => res.json())\r\n        .then(data => this.setState({\r\n          products: data,\r\n        }));\r\n      }\r\n      handleIncrement = () => {\r\n        this.setState({\r\n            qty: this.state.insertProduct.total_qty += 1,\r\n        })\r\n        if (this.state.insertProduct.total_qty >= this.props.stock){\r\n            this.setState({\r\n                qty: this.state.insertProduct.total_qty = this.props.stock\r\n            })\r\n        }\r\n        this.handleTotal()\r\n    }\r\n    handleTotal = () => {\r\n        this.setState({\r\n            totalPrice: this.state.insertProduct.total_price = \r\n            this.props.price * this.state.insertProduct.total_qty,\r\n            id: this.state.insertProduct[\"id\"] = new Date().getTime()\r\n        })\r\n    }\r\n    // handleDecrement = () => {\r\n    //     this.setState({\r\n    //         qty: this.state.insertProduct.total_qty -= 1,\r\n    //     })\r\n    //     if (this.state.insertProduct.total_qty <= 0) {\r\n    //         this.setState({\r\n    //             qty: this.state.insertProduct.total_qty = 0\r\n    //         })\r\n    //     }\r\n    // }\r\n\r\n    // handleChange = (event) => {\r\n    //     this.setState({\r\n    //         total_qty: this.state.insertProduct[\"total_qty\"] = event.target.value,\r\n    //     })\r\n    //     this.handleTotal()\r\n    // }\r\n\r\n    handleSave = (product) => {\r\n        const insert = {\r\n            'userID': product.userID,\r\n            'productID': product.id,\r\n            'nama': product.nama,\r\n            'price': product.price,\r\n            'total_qty': 1,\r\n            'total_price': product.price\r\n        }\r\n        fetch(\"http://localhost:3002/cart\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(insert)\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                alert(\"Product Was Added Successfully To Cart\")\r\n                this.setState({\r\n                    total_qty: this.state.insertProduct[\"total_qty\"] = 0\r\n                })\r\n                this.handleTotal()\r\n                return response.json()\r\n            } else {\r\n                alert(response.statusText)\r\n            }\r\n        })\r\n    }\r\n    render(){\r\n        const productItems = this.state.products.map(product => (\r\n            <div className=\"col-md-4\" key={product.id}>\r\n                <div className=\"product-image-wrapper\">\r\n                    <div className=\"single-products\">\r\n                        <div className=\"productinfo text-center\">\r\n                            <a\r\n                                href={`#${product.id}`}\r\n                                onClick={this.state.handleAddToCart}>\r\n                            <img src={`/products/${product.img}`} />\r\n                            <h2>{util.formatCurrency(product.price)}</h2>\r\n                            <p> {product.nama} </p>\r\n                            </a>\r\n                            <div className=\"order\">\r\n                                {/* <p>Total Order: </p> */}\r\n                                {/* <button className=\"button_decrement\" onClick={this.handleDecrement}><b>-</b></button>&emsp; */}\r\n                                {/* <input type=\"text\" id=\"total_qty\" name=\"total_qty\" \r\n                                value={this.state.insertProduct.total_qty} onChange={this.handleChange}></input>&emsp; */}\r\n                                {/* <button className=\"button_increment\" onClick={this.handleIncrement}><b>+</b></button> */}\r\n                                {/* <p>Total Price: IDR {this.state.insertProduct.total_price}</p>  */} \r\n                                <button className=\"btn btn-primary\" type=\"submit\" onClick={()=>this.handleSave(product)}>Add to Cart</button>\r\n                            </div><br></br>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ))\r\n        return(\r\n            <div>\r\n                <section>\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-sm-12\">\r\n                                <div className=\"features_items\">\r\n                                    <h2 className=\"title text-center\">Features Items</h2>\r\n                                    {productItems}\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n} export default Product"]},"metadata":{},"sourceType":"module"}